# reload video
#r write-watch-later-config ; playlist-play-index current
r write-watch-later-config ; script-message skip-delete-state ; playlist-play-index current

Ctrl+c stop

# clip video
Ctrl+s run ffmpeg -y -nostdin -ss ${=ab-loop-a}s -to ${=ab-loop-b}s -fflags +genpts -i ${stream-open-filename} -avoid_negative_ts 1 -c copy -map 0 dump.mkv ; show-text "dump done"
Ctrl+S ab-loop-dump-cache dump.ts

# rotate (counter-)clockwise
Ctrl+r cycle_values !reverse video-rotate "90" "180" "270" "0"
Ctrl+Shift+r cycle_values    video-rotate "90" "180" "270" "0"
# make louder, enabled by default in my mpv.conf, may cause issues w/ performance
n af toggle loudnorm=I=-10
# cycle denoisers, see also https://gist.github.com/myfreeer/d744c445aa71c0eeb165ca39cf6c0511
Ctrl+d cycle-values          vf atadenoise hqdn3d removegrain vaguedenoiser ""
Ctrl+D cycle-values !reverse vf atadenoise hqdn3d removegrain vaguedenoiser ""
# toggle mono
M cycle-values audio-channels 1 auto-safe

TAB show-progress

# vi keys
h seek -5
j seek -60
k seek  60
l seek  5
; ab-loop
: add ab-loop-a 0.25
Ctrl+o revert-seek
Ctrl+g show-text "${playlist-pos-1}/${playlist-count}"

# panning/zooming
Ctrl+h  add video-pan-x  0.02
Ctrl+j  add video-pan-y -0.02
Ctrl+k  add video-pan-y  0.02
Ctrl+l  add video-pan-x -0.02
Ctrl+H  add video-pan-x  0.02
Ctrl+J  add video-zoom  -0.05
Ctrl+K  add video-zoom   0.05
Ctrl+L  add video-pan-x -0.02
+       add video-zoom   0.1
=       add video-zoom   0.1
-       add video-zoom  -0.1
BS set speed 1.0 ; set video-pan-x 0 ; set video-zoom 0 ; set video-pan-y 0
\  set speed 1.0 ; set video-pan-x 0 ; set video-zoom 0 ; set video-pan-y 0

# remove undesirable binds
ENTER ignore
MBTN_RIGHT ignore
MBTN_LEFT ignore
MBTN_LEFT_DBL ignore
WHEEL_UP ignore
WHEEL_DOWN ignore
WHEEL_LEFT ignore
WHEEL_RIGHT ignore

# https://github.com/bloc97/Anime4K/blob/master/GLSL_Instructions.md
CTRL+1 no-osd change-list glsl-shaders set "~~/shaders/Anime4K_Clamp_Highlights.glsl:~~/shaders/Anime4K_Restore_CNN_M.glsl:~~/shaders/Anime4K_Upscale_CNN_x2_M.glsl:~~/shaders/Anime4K_AutoDownscalePre_x2.glsl:~~/shaders/Anime4K_AutoDownscalePre_x4.glsl:~~/shaders/Anime4K_Upscale_CNN_x2_S.glsl"; show-text "Anime4K: Mode A (Fast)"
CTRL+2 no-osd change-list glsl-shaders set "~~/shaders/Anime4K_Clamp_Highlights.glsl:~~/shaders/Anime4K_Restore_CNN_Soft_M.glsl:~~/shaders/Anime4K_Upscale_CNN_x2_M.glsl:~~/shaders/Anime4K_AutoDownscalePre_x2.glsl:~~/shaders/Anime4K_AutoDownscalePre_x4.glsl:~~/shaders/Anime4K_Upscale_CNN_x2_S.glsl"; show-text "Anime4K: Mode B (Fast)"
CTRL+3 no-osd change-list glsl-shaders set "~~/shaders/Anime4K_Clamp_Highlights.glsl:~~/shaders/Anime4K_Upscale_Denoise_CNN_x2_M.glsl:~~/shaders/Anime4K_AutoDownscalePre_x2.glsl:~~/shaders/Anime4K_AutoDownscalePre_x4.glsl:~~/shaders/Anime4K_Upscale_CNN_x2_S.glsl"; show-text "Anime4K: Mode C (Fast)"
CTRL+4 no-osd change-list glsl-shaders set "~~/shaders/Anime4K_Clamp_Highlights.glsl:~~/shaders/Anime4K_Restore_CNN_M.glsl:~~/shaders/Anime4K_Upscale_CNN_x2_M.glsl:~~/shaders/Anime4K_Restore_CNN_S.glsl:~~/shaders/Anime4K_AutoDownscalePre_x2.glsl:~~/shaders/Anime4K_AutoDownscalePre_x4.glsl:~~/shaders/Anime4K_Upscale_CNN_x2_S.glsl"; show-text "Anime4K: Mode A+A (Fast)"
CTRL+5 no-osd change-list glsl-shaders set "~~/shaders/Anime4K_Clamp_Highlights.glsl:~~/shaders/Anime4K_Restore_CNN_Soft_M.glsl:~~/shaders/Anime4K_Upscale_CNN_x2_M.glsl:~~/shaders/Anime4K_AutoDownscalePre_x2.glsl:~~/shaders/Anime4K_AutoDownscalePre_x4.glsl:~~/shaders/Anime4K_Restore_CNN_Soft_S.glsl:~~/shaders/Anime4K_Upscale_CNN_x2_S.glsl"; show-text "Anime4K: Mode B+B (Fast)"
CTRL+6 no-osd change-list glsl-shaders set "~~/shaders/Anime4K_Clamp_Highlights.glsl:~~/shaders/Anime4K_Upscale_Denoise_CNN_x2_M.glsl:~~/shaders/Anime4K_AutoDownscalePre_x2.glsl:~~/shaders/Anime4K_AutoDownscalePre_x4.glsl:~~/shaders/Anime4K_Restore_CNN_S.glsl:~~/shaders/Anime4K_Upscale_CNN_x2_S.glsl"; show-text "Anime4K: Mode C+A (Fast)"
CTRL+7 change-list glsl-shaders toggle "~~/shaders/Anime4K_Darken_Fast.glsl"
CTRL+! no-osd change-list glsl-shaders set "~~/shaders/Anime4K_Clamp_Highlights.glsl:~~/shaders/Anime4K_Restore_CNN_VL.glsl:~~/shaders/Anime4K_Upscale_CNN_x2_VL.glsl:~~/shaders/Anime4K_AutoDownscalePre_x2.glsl:~~/shaders/Anime4K_AutoDownscalePre_x4.glsl:~~/shaders/Anime4K_Upscale_CNN_x2_M.glsl"; show-text "Anime4K: Mode A (HQ)"
CTRL+@ no-osd change-list glsl-shaders set "~~/shaders/Anime4K_Clamp_Highlights.glsl:~~/shaders/Anime4K_Restore_CNN_Soft_VL.glsl:~~/shaders/Anime4K_Upscale_CNN_x2_VL.glsl:~~/shaders/Anime4K_AutoDownscalePre_x2.glsl:~~/shaders/Anime4K_AutoDownscalePre_x4.glsl:~~/shaders/Anime4K_Upscale_CNN_x2_M.glsl"; show-text "Anime4K: Mode B (HQ)"
CTRL+# no-osd change-list glsl-shaders set "~~/shaders/Anime4K_Clamp_Highlights.glsl:~~/shaders/Anime4K_Upscale_Denoise_CNN_x2_VL.glsl:~~/shaders/Anime4K_AutoDownscalePre_x2.glsl:~~/shaders/Anime4K_AutoDownscalePre_x4.glsl:~~/shaders/Anime4K_Upscale_CNN_x2_M.glsl"; show-text "Anime4K: Mode C (HQ)"
CTRL+$ no-osd change-list glsl-shaders set "~~/shaders/Anime4K_Clamp_Highlights.glsl:~~/shaders/Anime4K_Restore_CNN_VL.glsl:~~/shaders/Anime4K_Upscale_CNN_x2_VL.glsl:~~/shaders/Anime4K_Restore_CNN_M.glsl:~~/shaders/Anime4K_AutoDownscalePre_x2.glsl:~~/shaders/Anime4K_AutoDownscalePre_x4.glsl:~~/shaders/Anime4K_Upscale_CNN_x2_M.glsl"; show-text "Anime4K: Mode A+A (HQ)"
CTRL+% no-osd change-list glsl-shaders set "~~/shaders/Anime4K_Clamp_Highlights.glsl:~~/shaders/Anime4K_Restore_CNN_Soft_VL.glsl:~~/shaders/Anime4K_Upscale_CNN_x2_VL.glsl:~~/shaders/Anime4K_AutoDownscalePre_x2.glsl:~~/shaders/Anime4K_AutoDownscalePre_x4.glsl:~~/shaders/Anime4K_Restore_CNN_Soft_M.glsl:~~/shaders/Anime4K_Upscale_CNN_x2_M.glsl"; show-text "Anime4K: Mode B+B (HQ)"
CTRL+^ no-osd change-list glsl-shaders set "~~/shaders/Anime4K_Clamp_Highlights.glsl:~~/shaders/Anime4K_Upscale_Denoise_CNN_x2_VL.glsl:~~/shaders/Anime4K_AutoDownscalePre_x2.glsl:~~/shaders/Anime4K_AutoDownscalePre_x4.glsl:~~/shaders/Anime4K_Restore_CNN_M.glsl:~~/shaders/Anime4K_Upscale_CNN_x2_M.glsl"; show-text "Anime4K: Mode C+A (HQ)"
CTRL+& change-list glsl-shaders toggle "~~/shaders/Anime4K_Thin_Fast.glsl"
CTRL+9 no-osd change-list glsl-shaders toggle "~~/shaders/FSRCNNX_x2_8-0-4-1.glsl"; show-text "FSRCNNX_x2_8"
CTRL+( no-osd change-list glsl-shaders toggle "~~/shaders/FSRCNNX_x2_16-0-4-1.glsl"; show-text "FSRCNNX_x2_16"
CTRL+8 cycle_values keepaspect no yes; no-osd change-list glsl-shaders toggle "~~/shaders/nonlinear_stretch.glsl"; show-text "nonlinear_stretch"
CTRL+0 set keepaspect yes; no-osd change-list glsl-shaders clr ""; show-text "GLSL shaders cleared"
CTRL+) set keepaspect yes; no-osd change-list glsl-shaders clr ""; show-text "GLSL shaders cleared"

